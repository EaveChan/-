# 受试者端移动适配说明

## 概述

受试者端已完成移动端响应式优化，支持在手机、平板等移动设备上流畅使用。采用响应式 Web 设计方案，无需安装 APP，直接通过手机浏览器访问即可。

---

## 主要优化内容

### 1. 移动端底部导航栏
- **位置**: 固定在屏幕底部
- **功能**: 快速切换四个主要页面
  - 首页
  - 临床试验
  - 我的报名
  - 个人信息
- **特点**: 
  - 大图标，易于点击
  - 当前页面高亮显示
  - 仅在移动端显示（PC端隐藏）

### 2. 布局优化
- **隐藏侧边栏**: 移动端自动隐藏PC端的侧边栏
- **隐藏顶部栏**: 移动端自动隐藏PC端的顶部导航栏
- **全屏显示**: 内容区域占满整个屏幕
- **底部留白**: 为底部导航栏预留60px空间

### 3. 触摸优化
- **按钮大小**: 所有按钮最小44x44px，符合触摸标准
- **全宽按钮**: 主要操作按钮占满容器宽度
- **间距调整**: 增加元素间距，避免误触
- **圆角设计**: 按钮和卡片使用8-12px圆角

### 4. 字体和间距
- **标题**: 1.5rem（移动端）vs 2rem（PC端）
- **正文**: 0.875-1rem
- **卡片内边距**: 1rem（移动端）vs 1.5rem（PC端）
- **网格间距**: 0.5rem（移动端）vs 1rem（PC端）

### 5. 卡片式布局
- **统计卡片**: 优化为移动端友好的尺寸
- **试验卡片**: 垂直堆叠，避免横向滚动
- **信息展示**: 使用徽章和图标，节省空间

---

## 使用方法

### 方式一：手机浏览器直接访问
1. 在手机浏览器中输入系统地址（例如：`http://localhost:8080`）
2. 使用受试者账号登录
3. 系统自动适配移动端布局

### 方式二：添加到主屏幕（推荐）
**iOS (Safari)**:
1. 打开系统网址
2. 点击底部分享按钮
3. 选择"添加到主屏幕"
4. 点击"添加"

**Android (Chrome)**:
1. 打开系统网址
2. 点击右上角菜单（三个点）
3. 选择"添加到主屏幕"
4. 点击"添加"

添加后，图标会出现在手机桌面，点击即可快速打开，体验接近原生APP。

---

## 支持的设备和浏览器

### 移动设备
- ✅ iPhone (iOS 12+)
- ✅ Android 手机 (Android 8+)
- ✅ iPad / Android 平板

### 浏览器
- ✅ Safari (iOS)
- ✅ Chrome (Android/iOS)
- ✅ Firefox (Android/iOS)
- ✅ Edge (Android/iOS)
- ✅ 微信内置浏览器
- ✅ 其他主流移动浏览器

---

## 移动端功能清单

### ✅ 已优化的页面
1. **首页** (`/participant`)
   - 统计卡片
   - 功能简介
   - 快捷入口

2. **临床试验列表** (`/participant/trials`)
   - 试验卡片
   - 智能匹配分数
   - 筛选和搜索

3. **试验详情** (`/participant/trials/{id}`)
   - 详细信息
   - 报名表单
   - 匹配说明

4. **我的报名** (`/participant/my-applications`)
   - 报名记录
   - 状态跟踪
   - 详情查看

5. **个人信息** (`/participant/profile`)
   - 信息展示
   - 信息编辑
   - 表单提交

### ✅ 移动端特性
- 响应式布局
- 触摸优化
- 底部导航
- 全屏显示
- 快速加载
- 离线缓存（浏览器自动）

---

## 技术实现

### CSS 媒体查询
```css
@media (max-width: 767px) {
  /* 移动端样式 */
}

@media (min-width: 768px) and (max-width: 991px) {
  /* 平板端样式 */
}
```

### 关键文件
- `src/main/resources/static/css/participant-mobile.css` - 移动端样式
- `src/main/resources/templates/fragments/participant-mobile-nav.html` - 底部导航栏
- 所有受试者端页面已引入移动端CSS

### Viewport 设置
```html
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no, user-scalable=no">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black">
```

---

## 测试建议

### 1. 浏览器开发者工具测试
1. 打开 Chrome 浏览器
2. 按 F12 打开开发者工具
3. 点击设备工具栏图标（Ctrl+Shift+M）
4. 选择不同的设备型号测试

### 2. 真机测试
- 使用实际手机访问系统
- 测试不同屏幕尺寸（小屏、大屏）
- 测试横屏和竖屏模式
- 测试触摸操作流畅度

### 3. 功能测试清单
- [ ] 登录功能
- [ ] 页面导航（底部导航栏）
- [ ] 浏览临床试验
- [ ] 查看试验详情
- [ ] 提交报名申请
- [ ] 查看报名记录
- [ ] 编辑个人信息
- [ ] 退出登录

---

## 常见问题

### Q: 为什么在手机上还是显示PC端布局？
A: 请清除浏览器缓存，或使用无痕模式访问。确保页面已引入 `participant-mobile.css`。

### Q: 底部导航栏被内容遮挡怎么办？
A: 检查 CSS 中的 `padding-bottom: 80px` 是否生效。

### Q: 如何在答辩时演示移动端？
A: 
1. 使用手机投屏到电脑（推荐）
2. 使用浏览器开发者工具模拟移动设备
3. 使用 Android 模拟器或 iOS 模拟器

### Q: 可以打包成真正的APP吗？
A: 可以，使用 Cordova、Ionic 或 uni-app 等工具可以将网页打包成 APP。

---

## 后续优化建议

### 短期优化
- [ ] 添加下拉刷新功能
- [ ] 优化图片加载（懒加载）
- [ ] 添加骨架屏加载效果
- [ ] 优化表单输入体验

### 长期优化
- [ ] 添加 PWA 支持（离线访问）
- [ ] 添加推送通知
- [ ] 优化首屏加载速度
- [ ] 添加手势操作（滑动返回等）

---

## 联系方式

如有问题或建议，请联系开发团队。

**最后更新**: 2026-01-14
